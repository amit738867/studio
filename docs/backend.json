{
  "entities": {
    "CertificateTemplate": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CertificateTemplate",
      "type": "object",
      "description": "Represents a template for generating certificates.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the certificate template."
        },
        "name": {
          "type": "string",
          "description": "Name of the certificate template."
        },
        "description": {
          "type": "string",
          "description": "A description of the certificate template and its intended use."
        },
        "templateData": {
          "type": "string",
          "description": "JSON data representing the structure and design of the certificate template. This should be stringified JSON."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the template was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the template was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "templateData",
        "createdAt",
        "updatedAt"
      ]
    },
    "Participant": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Participant",
      "type": "object",
      "description": "Represents a participant who will receive a certificate.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the participant."
        },
        "name": {
          "type": "string",
          "description": "Full name of the participant."
        },
        "email": {
          "type": "string",
          "description": "Email address of the participant.",
          "format": "email"
        },
        "status": {
            "type": "string",
            "description": "The validation status of the participant's name (e.g., 'valid', 'invalid', 'corrected')."
        },
        "originalName": {
            "type": "string",
            "description": "The original name from the CSV file."
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "status"
      ]
    },
    "Campaign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Campaign",
      "type": "object",
      "description": "Represents a campaign for distributing certificates.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the campaign."
        },
        "name": {
          "type": "string",
          "description": "Name of the campaign."
        },
        "certificateTemplateId": {
          "type": "string",
          "description": "Reference to CertificateTemplate. (Relationship: CertificateTemplate 1:N Campaign)"
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the campaign was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the campaign was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "certificateTemplateId",
        "createdAt",
        "updatedAt"
      ]
    },
    "DeliveryStatus": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DeliveryStatus",
      "type": "object",
      "description": "Represents the delivery status of a certificate to a participant.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the delivery status entry."
        },
        "campaignId": {
          "type": "string",
          "description": "Reference to Campaign. (Relationship: Campaign 1:N DeliveryStatus)"
        },
        "participantId": {
          "type": "string",
          "description": "Reference to Participant. (Relationship: Participant 1:N DeliveryStatus)"
        },
        "status": {
          "type": "string",
          "description": "The delivery status (e.g., 'pending', 'sent', 'delivered', 'failed')."
        },
        "lastUpdated": {
          "type": "string",
          "description": "Timestamp indicating when the delivery status was last updated.",
          "format": "date-time"
        },
        "deliveryDetails": {
          "type": "string",
          "description": "Stringified JSON object containing details about the delivery attempt (e.g., error messages). Should be stringified JSON."
        }
      },
      "required": [
        "id",
        "campaignId",
        "participantId",
        "status",
        "lastUpdated"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}/campaigns/{campaignId}": {
      "schema": {
        "$ref": "#/entities/Campaign"
      },
      "description": "Stores campaigns created by a specific user."
    },
    "/users/{userId}/campaigns/{campaignId}/participants/{participantId}": {
      "schema": {
        "$ref": "#/entities/Participant"
      },
      "description": "Stores participants for a specific campaign."
    }
  }
}